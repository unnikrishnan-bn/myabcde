  <!DOCTYPE html>
  <html>
      <head>
          <meta charset="utf-8" />
          <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
          <meta name="apple-mobile-web-app-capable" content="yes" />
          <meta name="apple-mobile-web-app-status-bar-style" content="black" />
          <title>
          </title>
          <link rel="stylesheet" href="jquerymobile120min.css" />
          
           <link rel="stylesheet" type="text/css" href="http://code.jquery.com/mobile/latest/jquery.mobile.min.css" />
          <link rel="stylesheet" type="text/css" href="jqmdateboxmin.css" /> 
             <link href="layout.css" rel="stylesheet" type="text/css"></link>
          <link rel="stylesheet" href="my.css" />
          <script type="text/javascript" charset="utf-8" src="cordova.js"></script>
      
          
     
  
  

  <script type="text/javascript" src="jquery171min.js"></script> 
  <script type="text/javascript" src="mobilejqm.js"></script>
  <script type="text/javascript" src="jquerymobilemin.js"></script>
  
  <!-- Optional Mousewheel support: http://brandonaaron.net/code/mousewheel/docs -->
  
  
  <script type="text/javascript" src="jqmdateboxcoremin.js"></script>
  <script type="text/javascript" src="jqmdatebox110modeflipbox.js"></script>
  
  <script type="text/javascript" src="jquerymobiledateboxi18nenUS.js"></script>
  <script type="text/javascript" src="jqmdateboxmodecustomflipmin.js"></script>
  
  <script type="text/javascript" src="excanvasmin.js"></script>        
    <script src="jqueryvalidate.js"></script>
 
        
     <script language="javascript" type="text/javascript" src="jqueryflot.js"></script>
     <script language="javascript" type="text/javascript" src="my.js"></script>
   

         
          <!-- User-generated css -->
          <style>
          </style>
           <style type="text/css">
    .myChart {
      width: 220px;
      height: 170px;
    }
  </style>
    
             
      </head>
      <body>
          <!-- Home -->
          <div data-role="page" id="home">
      <!--    <script type="text/javascript">
		  function addBkBtn(){
   document.addEventListener("backbutton", homeBackKeyDown, true);
		  }
</script>
<script>
function homeBackKeyDown() {
alert('Exit');
navigator.app.exitApp();
}
</script> -->
              <div data-theme="b" data-role="header" data-position="fixed" style="height:48px">
                 <img src="img/ExpenseTracker.png" alt="Header" class="ui-btn-left" style=" width:48px; height:48px; display:inline"/> <h2 style="margin-top:16px">
                      Expense Tracker
                  </h2>
              </div>
              <div data-role="content">
                  <ul data-role="listview" data-divider-theme="b" data-inset="true">
                      <li data-theme="c">
                          <a href="#expenses_page_day" data-transition="slide"><img src="img/expense48px.png" alt="Expenses" class="ui-li-thumb">
                              <h3 style="text-align:start; margin-top:20px;" >Expenses</h3>
                          </a>
                      </li>
                      <li data-theme="c" >
                          <a href="#charts" data-transition="slide" class="force-reload"><img src="img/Chart.png" alt="Chart" class="ui-li-thumb" >
                            <h3 style="text-align:start; margin-top:20px;" >  Charts</h3>
                          </a>
                      </li>
                      <li data-theme="c">
                          <a href="#settings_page" data-transition="slide"><img src="img/Settingicon.png" alt="Settings" class="ui-li-thumb" >
                             <h3 style="text-align:start; margin-top:20px;" >  Settings </h3>
                          </a>
                      </li> 
                      <li data-theme="c">
                          <a href="#help" data-transition="slide"> <img src="img/help.png" alt="Help" class="ui-li-thumb" >
                        <h3 style="text-align:start; margin-top:20px;" >   Help </h3>
                          </a>
                      </li>
                  </ul>
              </div>
          </div>
          
          <!--- Home page end  -->
          
            <!-- Help Page -->
          <div data-role="page" id="help" data-add-back-btn="true">
              <div data-theme="b" data-role="header" data-position="fixed">
                  <h3>
                      Help
                  </h3>
              </div>
              <div data-role="content">
                  <p align="justify">
                  This application keeps track of your all expenses. It will give you a detailed report of all your expenses.
                  
                  </p>
              </div>
          </div>
          
          <!--- Help page end  -->
          <!-- Expenses Page - Day-->
  <div data-role="page" id="expenses_page_day">
      <div id="expensesHdr" data-id="expensesHdr" data-theme="b" data-role="header" data-position="fixed">
          <a data-role="button"  href="#add_expense" data-icon="plus"
          data-iconpos="right" class="ui-btn-right">
              Add
          </a>
           <a data-role="button"  href="#home" data-icon="arrow-l"
          data-iconpos="left" class="ui-btn-left">
              Back
          </a>
          <h3>
              Expenses
          </h3>
      </div>
      <div data-role="content">
     
      
<!--  
  <div data-role="fieldcontain">
    <label for="cf">Custom</label>
    <input name="cf" type="date" data-role="datebox" id="cf" data-options='{"mode": "customflip"}' />
  </div> -->
 
            
        <div > <input name="defflip" type="date" data-role="datebox" id="defflip" data-mini="true" data-options='{"mode": "flipbox","themeHeader": "b", "themeDatePick": "b", "closeCallback":"linkedCheckin", "overrideDateFormat":"%d/ %B /%Y"}' data-theme="b" placeholder="Date Input" /> </div>
        <script>
     
	 
        
        $('#expenses_page_day').live('pagecreate', function(e) {
 
    	loadExpenses();
	
 
});
        </script>
        
            
     <div data-role="content">
     <ul data-role="listview" name="day_list" id="day_list" data-split-icon="delete" data-split-theme="d" data-inset="true">
     </ul>
     </div>
       <div data-theme="b" data-role="footer" data-position="fixed" data-id="expensefooter">
       <p id="totalexpenses" style="margin-left:5px" >Total Expenses : Rs. 0 </p>
          <div data-role="navbar">
          <ul>
             <li><a href="#expenses_page_day" class="ui-btn-active ui-state-persist" onClick="loadExpenses()">Day</a></li>
              <li><a href="#expenses_page_month" class="ui-btn-active ui-state-persist" onClick="loadMonthExpenses()">Month</a></li>
              <li><a href="#expenses_page_year" class="ui-btn-active ui-state-persist" onClick="loadYearExpenses()">Year</a></li>
          </ul>
          
          </div>
    
      </div>
      <div data-role="popup" id="delete_item" data-theme="d" data-overlay-theme="b" class="ui-content" style="max-width:340px; padding-bottom:2em;">
					<h3>Delete Item</h3>
					<p>Are you sure, you want to delete this item ? </p>
					<a  data-role="button" id="delete_item_btn" data-rel="back" data-theme="b" data-icon="check" data-inline="true" data-mini="true" onClick="loadExpenses()">Delete</a>
					<a action="#expenses_page_day" data-role="button" data-rel="back" data-inline="true" data-mini="true">Cancel</a>	
				</div> 
  </div>
  </div>
  
  <!-- End expenses page - Day-->
  
          <!-- Expenses Page - Month-->
  <div data-role="page" id="expenses_page_month" >
      <div id="expensesHdr" data-id="expensesHdr" data-theme="b" data-role="header" data-position="fixed">
          <a data-role="button"  href="#add_expense" data-icon="plus"
          data-iconpos="right" class="ui-btn-right">
              Add
          </a>
          
           <a data-role="button"  href="#home" data-icon="arrow-l"
          data-iconpos="left" class="ui-btn-left">
              Back
          </a>
          <h3>
              Expenses
          </h3>
      </div>
      <div data-role="content">
      

            
        <div > <input name="datepicker_month" type="date" data-role="datebox" id="datepicker_month" data-mini="true" data-options='{"mode": "flipbox","themeHeader": "b", "themeDatePick": "b", "closeCallback":"linkedmonth", "overrideDateFormat":"%B /%Y", "overrideDateFieldOrder": ["m", "y"]}' data-theme="b" placeholder="Month Input"/> </div>
            
     <div data-role="content">
     <ul data-role="listview" name="month_list" id="month_list" data-split-icon="delete" data-split-theme="d" data-inset="true">
     </ul>
     </div>
       <div data-theme="b" data-role="footer" data-position="fixed" data-id="expensefooter">
       <p id="totalmonthexpenses" style="margin-left:5px">Total Expenses : Rs. 0 </p>
          <div data-role="navbar">
          <ul>
             <li><a href="#expenses_page_day" class="ui-btn-active ui-state-persist" onClick="loadExpenses()" >Day</a></li>
              <li><a href="#expenses_page_month" class="ui-btn-active ui-state-persist" onClick="loadMonthExpenses()">Month</a></li>
              <li><a href="#expenses_page_year" class="ui-btn-active ui-state-persist" onClick="loadYearExpenses() ">Year</a></li>
          </ul>
          </div>
      </div>
      <div data-role="popup" id="delete_item" data-theme="d" data-overlay-theme="b" class="ui-content" style="max-width:340px; padding-bottom:2em;">
					<h3>Delete Item</h3>
					<p>Are you sure, you want to delete this item ? </p>
					<a  data-role="button" id="delete_item_month_btn" data-rel="back" data-theme="b" data-icon="check" data-inline="true" data-mini="true" onClick="loadMonthExpenses()">Delete</a>
					<a action="#expenses_page_month" data-role="button" data-rel="back" data-inline="true" data-mini="true">Cancel</a>	
				</div> 
  </div>
  </div>
  
  <!-- End expenses page Month-->
  
       <!-- Expenses Page - Year-->
  <div data-role="page" id="expenses_page_year">
      <div id="expensesHdr" data-id="expensesHdr" data-theme="b" data-role="header" data-position="fixed">
          <a data-role="button"  href="#add_expense" data-icon="plus"
          data-iconpos="right" class="ui-btn-right">
              Add
          </a>
           <a data-role="button"  href="#home" data-icon="arrow-l"
          data-iconpos="left" class="ui-btn-left">
              Back
          </a>
          <h3>
              Expenses
          </h3>
      </div>
      <div data-role="content">
      

            
        <div > <input name="datepicker_year" type="date" data-role="datebox" id="datepicker_year" data-mini="true" data-options='{"mode": "flipbox","themeHeader": "b", "themeDatePick": "b", "closeCallback":"linkedyear", "overrideDateFormat":"%Y", "overrideDateFieldOrder": ["y"]}' data-theme="b" placeholder="Year Input"/> </div>
            
     <div data-role="content">
     <ul data-role="listview" name="year_list" id="year_list" data-split-icon="delete" data-split-theme="d" data-inset="true">
     </ul>
     </div>
       <div data-theme="b" data-role="footer" data-position="fixed" data-id="expensefooter">
       <p id="totalyearexpenses" style="margin-left:5px" >Total Expenses : Rs. 0 </p>
          <div data-role="navbar">
          <ul>
              <li><a href="#expenses_page_day" class="ui-btn-active ui-state-persist" onClick="loadExpenses()">Day</a></li>
              <li><a href="#expenses_page_month" class="ui-btn-active ui-state-persist" onClick="loadMonthExpenses()">Month</a></li>
              <li><a href="#expenses_page_year" class="ui-btn-active ui-state-persist" onClick="loadYearExpenses()">Year</a></li>
          </ul>
          </div>
      </div>
      <div data-role="popup" id="delete_item" data-theme="d" data-overlay-theme="b" class="ui-content" style="max-width:340px; padding-bottom:2em;">
					<h3>Delete Item</h3>
					<p>Are you sure, you want to delete this item ? </p>
					<a  data-role="button" id="delete_item_year_btn" data-rel="back" data-theme="b" data-icon="check" data-inline="true" data-mini="true" onClick="loadYearExpenses()">Delete</a>
					<a action="#expenses_page_year" data-role="button" data-rel="back" data-inline="true" data-mini="true">Cancel</a>	
				</div> 
  </div>
  </div>
  
  <!-- End expenses page Year-->
  
  
            <!-- Add Expense -->
          <div data-role="page" id="add_expense"  data-add-back-btn="true">
              <div id="expensesHdr" data-theme="b" data-role="header" data-position="fixed">
                  <h3>
                      Add Expense
                  </h3>
              </div>
              <div data-role="content">
            <!--    <script type="text/javascript">
   document.addEventListener("backbutton", addExpBackKeyDown, true);
</script>
<script>
function addExpBackKeyDown() {
alert('Add Exp BAck btn');
$.mobile.changePage("#expenses_page_day");
}
</script> -->
                  <form id="addExpenseForm" action="#expenses_page_day">
                      <div data-role="fieldcontain">
                          <label for="categorySel">
                              Category:
                          </label>
                          <select name="categorySel" id="categorySel">
                           
                          </select>
                          
                          <script>
                          var ddl = $("#categorySel"); 
						var db0 = window.openDatabase ("Test2", "1.0", "Test2", 65535);
						    db0.transaction (function (transaction) {
		
		 var sql12 = "SELECT * FROM category ";
    transaction.executeSql (sql12, undefined, 
    function (transaction, result)
    {
		
     //	 console.log(result.rows.length);
      if (result.rows.length)
      { 
	 for(i=0; i< result.rows.length;i++){
 		 var row3 = result.rows.item (i);
	
   ddl.append("<option value='" + row3.cat+ "'>" + row3.cat + "</option>");
	 }
	  }
	})
	})
							
                          </script>
                      </div>
                      <div data-role="fieldcontain">
                          <label for="amount">
                              Amount (in Rs.)*:
                          </label>
                          <input name="amount" id="amount" placeholder="" value="" />
                      </div>
                      <div data-role="fieldcontain">
                          <label for="paymodeSel">
                              Pay Mode:
                          </label>
                          <select id="paymodeSel" name="paymodeSel">
                              <option value="cash">
                                  Cash
                              </option>
                              <option value="cheque">
                                  Cheque
                              </option>
                              <option value="ddraft">
                                  Demand Draft
                              </option>
                              <option value="otransfer">
                                  Online Transfer
                              </option>
                          </select>
                      </div>
                      <div data-role="fieldcontain">
                          <label for="remarkTxt">
                              Remark
                          </label>
                          <textarea name="remarkTxt" id="remarkTxt"></textarea>
                      </div>
                      <input type="submit" data-inline="true" data-icon="check" data-iconpos="right" value="Submit" id="submitExpense" name="submitExpense"/>
                      <a data-role="button" data-inline="true" href="#expenses_page_day" data-icon="delete" data-iconpos="right">
                          Cancel
                      </a>
                  </form>
              </div>
          </div>
          <!--  Add Expense End -->
  
  
  
  <!--  Charts Page -->
   <div data-role="page" id="charts"  data-add-back-btn="true">
      <div id="chartsHdr" data-id="chartsHdr" data-theme="b" data-role="header" data-position="fixed">
          <h3>
              Charts
          </h3>
      </div> 
 
            <style>
			h5
{
  width:50px;
  height:40px;
  -ms-transform:rotate(270deg); /* IE 9 */
  -moz-transform:rotate(270deg); /* Firefox */
  -webkit-transform:rotate(270deg); /* Safari and Chrome */
  -o-transform:rotate(270deg); /* Opera */
}
			
			</style>
     
        <script>
              $('#charts').live('pagecreate', function(e) {
 
    	console.log('charts....');
		loadChart();
 
		});
		$(document).ready(function(e) {
           console.log('charts....');
		loadChart(); 
        });
        </script>
  
     <section data-role="content">
    
     
     <table style="text-align:center">
  <tr>
    <td></td>

    <td> <h3> Total expenses Per Year </h3></td>

    <td> </td>
  </tr>

  <tr>
    <td><h5>Expenses in Rs.</h5></td>

    <td>
      <div id="barChart" class="myChart" style="height: 300px; min-width: 100px"></div>
    </td>

    <td></td>
  </tr>

  <tr>
    <td></td>

    <td>Years</td>

    <td></td>
  </tr>

</table>
     
     
     
     
			
			
<script id="source" language="javascript" type="text/javascript">
</script>

     </section>
       <div data-theme="b" data-role="footer" data-position="fixed" data-id="expensefooter">
         
      </div>
     

  </div>
  <!-- Charts Page End -->
  
  <!--  Settings Page -->
   <div data-role="page" id="settings_page" >
      <div id="setingsHdr" data-id="settingsHdr" data-theme="b" data-role="header" data-position="fixed">
            <a data-role="button"  href="#home" data-icon="arrow-l"
          data-iconpos="left" class="ui-btn-left">
              Back
          </a>
          <h3>
              Settings
          </h3>
      </div> 
 
            
     
     <div data-role="content">
      
     <ul data-role="listview" name="settings_list" id="settings_list"  data-inset="true">
      <li data-theme="c">
                          <a href="#catagories_list" data-transition="slide">
                              Catagories
                          </a>
                      </li>
     </ul>
     </div>
		

     
       <div data-theme="b" data-role="footer" data-position="fixed" data-id="expensefooter">
         
      </div>
     

  </div>
  
  <!--Settings Page End  -->
  
   <!-- Catagories List-->
  <div data-role="page" id="catagories_list">
      <div id="catHdr" data-id="catHdr" data-theme="b" data-role="header" data-position="fixed">
          <a data-role="button"  href="#add_category_item" data-icon="plus"
          data-iconpos="right" class="ui-btn-right">
              Add
          </a>
           <a data-role="button"  href="#settings_page" data-icon="arrow-l"
          data-iconpos="left" class="ui-btn-left">
              Back
          </a>
          <h3>
              Catagories
          </h3>
      </div>
        

            
        
            
     <div data-role="content">
     
     
     <ul data-role="listview" name="cat_list" id="cat_list" data-split-icon="delete" data-split-theme="d" data-inset="true">
     </ul>
     
     <script>
	  var db2 = window.openDatabase ("Test2", "1.0", "Test2", 65535);
	 $(function () {
         
		db2.transaction (function (transaction) 
  { 
   var sql12 = "SELECT * FROM category ";
   var html5="";
    transaction.executeSql (sql12, undefined, 
    function (transaction, result)
    {
		
     // console.log(result.rows.length);
      if (result.rows.length)
      { 
	 for(i=0; i< result.rows.length;i++){
 		 var row = result.rows.item (i);
	
    html5 += "<li id=\""+ row.cat +"\" data-name=\"" +row.cat+"\" > <a> <h3>" +row.cat+ "</h3></a>" + 
		  " <a href=\"#delete_item_cat\" data-rel=\"popup\" data-position-to=\"window\" data-transition=\"pop\" id = \"" +row.cat+ "\">Delete</a></li>";
	 }
	  }
	
	
      else
      {
        html5 += "<li> No Expenses</li>";
      }
      
	 
	 
	  $('#cat_list').empty();
		 $('#cat_list').append(html5).listview('refresh');
		 
        html5="";
    });
	 
  })
	 })
           </script> 
     </div>
       <div data-theme="b" data-role="footer" data-position="fixed" data-id="expensefooter">
      </div>
      <div data-role="popup" id="delete_item_cat" data-theme="d" data-overlay-theme="b" class="ui-content" style="max-width:340px; padding-bottom:2em;">
					<h3>Delete Item</h3>
					<p>Are you sure, you want to delete this catagory ? </p>
					<a  data-role="button" id="delete_item_cat_btn" data-rel="back" data-theme="b" data-icon="check" data-inline="true" data-mini="true">Delete</a>
					<a action="#catagories_list" data-role="button" data-rel="back" data-inline="true" data-mini="true">Cancel</a>	
				</div> 
  </div>
  </div>
  
  <!-- End Categories Page-->
  
    <!-- Add Category -->
          <div data-role="page" id="add_category_item">
              <div id="expensesHdr" data-theme="b" data-role="header" data-position="fixed">
                  <h3>
                      Add Category
                  </h3>
              </div>
              <div data-role="content">
                  <form id="addCategoryForm" action="#catagories_list">
                      <div data-role="fieldcontain">
                          <label for="cat">
                              New Category* :
                          </label>
                          <input name="new_cat" id="new_cat" placeholder="" value="" type="text" class="required"/>
                      </div>
                      <input type="submit" data-inline="true" data-icon="check" data-iconpos="right" value="Submit" id="submitNewCat" name="submitNewCat"/>
                      <a data-role="button" data-inline="true" href="#catagories_list" data-icon="delete" data-iconpos="right">
                          Cancel
                      </a>
                  </form>
              </div>
          </div>
          <!--  Add Category End -->
  
  
         
         

       
           </body>
  </html>
